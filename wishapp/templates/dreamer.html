{% extends 'main.html' %}

{% block dreamerslist %}
    <div class="container">
        <h1>Desires by {{ dreamer.username }}:</h1>
        {% for desire in desire2 %}
            <div class="row">
                <div class="col-md-12 well" id="desireinfo-{{ desire.id }}">
                    <div class="date">{{ desire.date }}<br></div>
                    {{ desire.text|safe }}
                </div>
                <div class="col-md-12 well hidden desire-form" id="desireform-{{ desire.id }}">
                    <form action="{% url 'editdesire' dreamer.id  desire.id %}" method="post">
                        <textarea name="desire_text" cols="155" rows="7">{{ desire.text2 }}</textarea>
                        <button type="submit" class="btn btn-info glyphicon glyphicon-save" value=""></button>
                    </form>
                </div>
                {% if username == dreamer.username %}
                    <div class="col-md-2">
                        <button class="btn btn-info edit glyphicon glyphicon-edit" id="desirebutton-{{ desire.id }}"></button>
                    </div>
                    <div class="col-md-2">
                        <form action="{% url 'deldesire' dreamer.id %}" method="post">{% csrf_token %}
                            <input type="hidden" name="deldesire"  value={{ desire.id }}>
                            <button type="submit"  class="btn btn-danger glyphicon glyphicon-trash" value=""></button>
                        </form>
                    </div>
                 {% else %}
                    <div class="col-md-2">
                        <button class="btn btn-info select_desire glyphicon glyphicon-check" id="desirebutton-{{ desire.id }}"> Select desire</button>
                    </div>
                {% endif %}
            </div>
        {% endfor %}
        {% if username == dreamer.username %}
            <div class="row">
                <form action="{% url 'adddesire' dreamer.id %}" class="button" method="post" >{% csrf_token %}
                    <div class="col-md-12 well">
                        {{ form.desire_text}}
                    </div>
                    <div class="col-md-2">
                        <button type="submit" class="btn btn-info glyphicon glyphicon-pencil" value=""></button>
                    </div>
                </form>
            </div>
        {% endif %}
    </div>

{% endblock %}



